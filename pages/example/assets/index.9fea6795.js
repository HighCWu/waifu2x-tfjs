var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,s=(e,s)=>{for(var i in s||(s={}))t.call(s,i)&&l(e,i,s[i]);if(o)for(var i of o(s))a.call(s,i)&&l(e,i,s[i]);return e};import{w as i,p as r,d,v as n,c,a as p,b as u,e as m,f as h,g as f,F as b,r as g,t as v,h as w,i as y,j as x,k,l as F,m as C,n as A,o as $,q as S,s as U}from"./vendor.d6efebca.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(o){const a=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((o,s)=>{const i=new URL(e,a);if(self[t].moduleMap[i])return o(self[t].moduleMap[i]);const r=new Blob([`import * as m from '${i}';`,`${t}.moduleMap['${i}']=m;`],{type:"text/javascript"}),d=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){s(new Error(`Failed to import: ${e}`)),l(d)},onload(){o(self[t].moduleMap[i]),l(d)}});document.head.appendChild(d)})),self[t].moduleMap={}}}("assets/");const D=window.Cropper,I=window.ImageCompressor;const T={art:{noise:{Null:null,Low:"./assets/noise0_model.d64971e8.json".replace("./",window.location.href.split("index.html")[0]),Middle:"./assets/noise1_model.2b41c5fb.json".replace("./",window.location.href.split("index.html")[0]),High:"./assets/noise2_model.4c7b742c.json".replace("./",window.location.href.split("index.html")[0]),Highest:"./assets/noise3_model.cafc3aec.json".replace("./",window.location.href.split("index.html")[0])},scale:{"1x":null,"2x":"./assets/scale2.0x_model.6b36d567.json".replace("./",window.location.href.split("index.html")[0])}},art_y:{noise:{Null:null,Low:"./assets/noise1_model.7ee21de0.json".replace("./",window.location.href.split("index.html")[0]),Middle:"./assets/noise2_model.7ed506b5.json".replace("./",window.location.href.split("index.html")[0]),High:"./assets/noise3_model.3d848dc3.json".replace("./",window.location.href.split("index.html")[0])},scale:{"1x":null,"2x":"./assets/scale2.0x_model.e90a492f.json".replace("./",window.location.href.split("index.html")[0])}},photo:{noise:{Null:null,Low:"./assets/noise0_model.dbf8d71c.json".replace("./",window.location.href.split("index.html")[0]),Middle:"./assets/noise1_model.3a056d18.json".replace("./",window.location.href.split("index.html")[0]),High:"./assets/noise2_model.e9476299.json".replace("./",window.location.href.split("index.html")[0]),Highest:"./assets/noise3_model.654d3587.json".replace("./",window.location.href.split("index.html")[0])},scale:{"1x":null,"2x":"./assets/scale2.0x_model.27097c22.json".replace("./",window.location.href.split("index.html")[0])}}};var j="./assets/test.2fe447e9.jpg";const z=new function(){return new Worker("./assets/worker.1ee6e71b.js",{type:"module"})};let L;(async()=>{L=await i(z),L.testCallback(r((e=>{console.log("test callback with value:",e)})))})();const O=d({name:"App",components:{FileUpload:n},data:()=>({imageType:"art",modelUrls:T,denoisingLevel:"Middle",scaleRatio:"2x",files:[],accept:"image/png,image/gif,image/jpeg,image/webp",extensions:"gif,jpg,jpeg,png,webp",minSize:1024,size:10485760,multiple:!0,directory:!1,drop:!0,dropDirectory:!0,createDirectory:!1,addIndex:!1,thread:1,name:"file",postAction:"/upload/post",putAction:"/upload/put",headers:{"X-Csrf-Token":"xxxx"},data:{_csrf_token:"xxxxxx"},autoCompress:0,uploadAuto:!0,isOption:!0,addData:{show:!1,name:"",type:"",content:""},editFile:{show:!1,name:""}}),created(){this.$nextTick((()=>{window.localStorage.getItem("imageStyle")&&(this.imageType=window.localStorage.getItem("imageStyle")),window.localStorage.getItem("denoisingLevel")&&(this.denoisingLevel=window.localStorage.getItem("denoisingLevel")),window.localStorage.getItem("scaleRatio")&&(this.scaleRatio=window.localStorage.getItem("scaleRatio")),window.localStorage.getItem("uploadAuto")&&(this.uploadAuto=window.localStorage.getItem("uploadAuto"))}))},watch:{"editFile.show"(e,t){!e&&t&&this.$refs.upload.update(this.editFile.id,{error:this.editFile.error||""}),e&&this.$nextTick((()=>{if(!this.$refs.editImage)return;let e=new D(this.$refs.editImage,{autoCrop:!1});this.editFile=s(s({},this.editFile),{cropper:e})}))},"addData.show"(e){e&&(this.addData.name="",this.addData.type="",this.addData.content="")},isOption(e,t){e||(window.localStorage.setItem("imageStyle",this.imageType),window.localStorage.setItem("denoisingLevel",this.denoisingLevel),window.localStorage.setItem("scaleRatio",this.scaleRatio),window.localStorage.setItem("uploadAuto",this.uploadAuto),this.files=[],"1"!==window.localStorage.getItem("removeTestImage")&&(async()=>{const e=await(await fetch(j)).blob();e.name=j.split("/")[j.split("/").length-1],this.$refs.upload.add(e)})())},imageType(e,t){"art_y"===e&&"Highest"===this.denoisingLevel&&(this.denoisingLevel="High")}},methods:{remove(e,t){this.$refs.upload.remove(e),0===t&&window.localStorage.setItem("removeTestImage","1")},open(e){window.open(e)},inputProgress(e,t){if(e.blob){const o=[this.modelUrls[this.imageType].noise[this.denoisingLevel],this.modelUrls[this.imageType].scale[this.scaleRatio]];return new Promise(((a,l)=>{let s=new Image;s.onload=()=>{const l=o=>{e=t.update(e,{progress:(1/8*o*100).toFixed(2)})},i=o=>{e=t.update(e,{progress:(100*(1/8*o+1/8)).toFixed(2)})},d=o=>{e=t.update(e,{progress:(3/8*o*100+1/4).toFixed(2)})},n=o=>{e=t.update(e,{progress:(100*(3/8*o+1/4+3/8)).toFixed(2)})};(async()=>{let c=await createImageBitmap(s,0,0,1e4,1e4);await L.init(o[0]),L.listenToModelDownloadProgress(o[0],r(l)),await L.init(o[1]),L.listenToModelPredictProgress(o[0],r(d)),c=await L.predict(o[0],F(c,[c])),L.listenToModelDownloadProgress(o[1],r(i)),L.listenToModelPredictProgress(o[1],r(n)),c=await L.predict(o[1],F(c,[c]));const p=document.createElement("canvas");p.width=c.width,p.height=c.height;let u=p.getContext("bitmaprenderer");u?u.transferFromImageBitmap(c):p.getContext("2d").drawImage(c,0,0),p.toBlob((o=>{const l=URL.createObjectURL(o);e=t.update(e,{progress:"100.00",success:!0,resultThumb:l}),a(e)}))})()},s.οnerrοr=o=>{t.update(e,{error:"read image blob"}),l(o)},s.src=e.blob}))}return e=t.update(e,{progress:"100.00",success:!1,error:"read image blob",activate:!1}),new Promise((t=>{t(e)}))},inputFilter(e,t,o){if(e&&!t){if(/(\/|^)(Thumbs\.db|desktop\.ini|\..+)$/.test(e.name))return o();if(/\.(php5?|html?|jsx?)$/i.test(e.name))return o();if(e.file&&""===e.error&&"image/"===e.type.substr(0,6)&&this.autoCompress>0&&this.autoCompress<e.size){e.error="compressing";new I(null,{convertSize:1048576,maxWidth:512,maxHeight:512}).compress(e.file).then((t=>{this.$refs.upload.update(e,{error:"",file:t,size:t.size,type:t.type})})).catch((t=>{this.$refs.upload.update(e,{error:t.message||"compress"})}))}}if(e&&""===e.error&&e.file&&(!t||e.file!==t.file)){e.blob="";let t=window.URL||window.webkitURL;t&&(e.blob=t.createObjectURL(e.file)),e.thumb="",e.blob&&"image/"===e.type.substr(0,6)&&(e.thumb=e.blob)}if(e&&""===e.error&&"image/"===e.type.substr(0,6)&&e.blob&&(!t||e.blob!==t.blob)){e.error="image parsing";let t=new Image;t.onload=()=>{this.$refs.upload.update(e,{error:"",height:t.height,width:t.width})},t.οnerrοr=t=>{this.$refs.upload.update(e,{error:"parsing image size"})},t.src=e.blob}},inputFile(e,t){e&&t&&(e.active&&!t.active&&e.size>=0&&this.minSize>0&&e.size<this.minSize&&this.$refs.upload.update(e,{error:"size"}),e.progress,t.progress,e.error&&t.error,e.success&&t.success),!e&&t&&t.success&&t.response.id,Boolean(e)===Boolean(t)&&t.error===e.error||this.uploadAuto&&!this.$refs.upload.active&&(this.$refs.upload.active=!0)},alert(e){alert(e)},onEditFileShow(e){this.editFile=s(s({},e),{show:!0}),this.$refs.upload.update(e,{error:"edit"})},onEditorFile(){if(!this.$refs.upload.features.html5)return this.alert("Your browser does not support"),void(this.editFile.show=!1);let e={name:this.editFile.name,error:""};if(this.editFile.cropper){let t=atob(this.editFile.cropper.getCroppedCanvas().toDataURL(this.editFile.type).split(",")[1]),o=new Uint8Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);e.file=new File([o],e.name,{type:this.editFile.type}),e.size=e.file.size}this.$refs.upload.update(this.editFile.id,e),this.editFile.error="",this.editFile.show=!1},onAddFolder(){if(!this.$refs.upload.features.directory)return void this.alert("Your browser does not support");let e=document.createElement("input");e.style="background: rgba(255, 255, 255, 0);overflow: hidden;position: fixed;width: 1px;height: 1px;z-index: -1;opacity: 0;",e.type="file",e.setAttribute("allowdirs",!0),e.setAttribute("directory",!0),e.setAttribute("webkitdirectory",!0),e.multiple=!0,document.querySelector("body").appendChild(e),e.click(),e.onchange=t=>{this.$refs.upload.addInputFile(e).then((function(){document.querySelector("body").removeChild(e)}))}},onAddData(){if(this.addData.show=!1,!this.$refs.upload.features.html5)return void this.alert("Your browser does not support");let e=new window.File([this.addData.content],this.addData.name,{type:this.addData.type});this.$refs.upload.add(e)}}}),V={class:"example-full"},R=u("i",{class:"fa fa-cog","aria-hidden":"true"},null,-1),_=C(" Options "),P={key:1,type:"button",class:"btn btn-default float-right btn-is-option"},M=u("i",{class:"fa fa-spinner","aria-hidden":"true"},null,-1),E=C(" Options "),B=u("i",{class:"fa fa-github","aria-hidden":"true"},null,-1),H=C(" Github "),W=u("h1",{id:"example-title",class:"example-title"},"Waifu2X-tfjs Example",-1),q={class:"drop-active"},N=u("h3",null,"Drop files to upload",-1),Y={class:"upload"},X=u("h5",null,"Tap thumbnail image to show the full image",-1),G={class:"table-responsive"},K={class:"table table-hover"},J=u("thead",null,[u("tr",null,[u("th",null,"#"),u("th",null,"Thumb"),u("th",null,"Name"),u("th",null,"Width"),u("th",null,"Height"),u("th",null,"Status"),u("th",null,"Action"),u("th",null,"Result")])],-1),Q={key:0},Z={colspan:"9"},ee={class:"text-center p-5"},te=u("h4",null,[C("Drop files anywhere to upload"),u("br"),C("or")],-1),oe={key:1},ae={class:"filename"},le={key:0,class:"progress"},se={key:0},ie={key:1},re={key:2},de={key:3},ne={class:"btn-group"},ce=u("button",{class:"btn btn-secondary btn-sm dropdown-toggle",type:"button"}," Action ",-1),pe={class:"dropdown-menu"},ue={key:3,class:"dropdown-divider"},me={key:1},he={class:"example-foorer"},fe={class:"footer-status float-right"},be={class:"btn-group"},ge=u("i",{class:"fa fa-plus"},null,-1),ve=C(" Select "),we={class:"dropdown-menu"},ye=u("i",{class:"fa fa-arrow-up","aria-hidden":"true"},null,-1),xe=C(" Waifu2x All "),ke={key:1,type:"button",class:"btn btn-default"},Fe=u("i",{class:"fa fa-spinner","aria-hidden":"true"},null,-1),Ce=C(" Waiting... "),Ae={class:"modal-dialog modal-lg",role:"document"},$e={class:"modal-content"},Se={class:"modal-header"},Ue=u("h5",{class:"modal-title"},"Option",-1),De=u("span",null,"×",-1),Ie={class:"modal-body"},Te={class:"form-group",hidden:""},je=u("label",{for:"accept"},"Accept:",-1),ze=u("small",{class:"form-text text-muted"},"Allow upload mime type",-1),Le={class:"form-group",hidden:""},Oe=u("label",{for:"extensions"},"Extensions:",-1),Ve=u("small",{class:"form-text text-muted"},"Allow upload file extension",-1),Re={class:"form-group",hidden:""},_e=u("label",null,"PUT Upload:",-1),Pe={class:"form-check"},Me={class:"form-check-label"},Ee=C(" Off "),Be={class:"form-check",hidden:""},He={class:"form-check-label"},We=C(" On "),qe=u("small",{class:"form-text text-muted"},"After the shutdown, use the POST method to upload",-1),Ne={class:"form-group",hidden:""},Ye=u("label",{for:"thread"},"Thread:",-1),Xe=u("small",{class:"form-text text-muted"},"Also upload the number of files at the same time (number of threads)",-1),Ge={class:"form-group",hidden:""},Ke=u("label",{for:"size"},"Max size:",-1),Je={class:"form-group",hidden:""},Qe=u("label",{for:"minSize"},"Min size:",-1),Ze={class:"form-group",hidden:""},et=u("label",{for:"autoCompress"},"Automatically compress:",-1),tt={key:0,class:"form-text text-muted"},ot={key:1,class:"form-text text-muted"},at={class:"form-group",hidden:""},lt={class:"form-check"},st={class:"form-check-label"},it=C(" Start position to add "),rt=u("small",{class:"form-text text-muted"},"Add a file list to start the location to add",-1),dt={class:"form-group",hidden:""},nt={class:"form-check"},ct={class:"form-check-label"},pt=C(" Drop "),ut=u("small",{class:"form-text text-muted"},"Drag and drop upload",-1),mt={class:"form-group",hidden:""},ht={class:"form-check"},ft={class:"form-check-label"},bt=C(" Drop directory "),gt=u("small",{class:"form-text text-muted"},"Not checked, filter the dragged folder",-1),vt={class:"form-group",hidden:""},wt={class:"form-check"},yt={class:"form-check-label"},xt=C(" Create Directory "),kt=u("small",{class:"form-text text-muted"},[C("The directory file will send an upload request. The mime type is "),u("code",null,"text/directory")],-1),Ft={class:"form-group"},Ct=u("h5",null,"Image type",-1),At={class:"form-check"},$t={class:"form-check-label"},St=C(" Artwork "),Ut={class:"form-check-label"},Dt=C(" Artwork Y "),It={class:"form-check-label"},Tt=C(" Photo "),jt={class:"form-group"},zt=u("h5",null,"Denoising level",-1),Lt={class:"form-check"},Ot={class:"form-group"},Vt=u("h5",null,"Scale ratio",-1),Rt={class:"form-check"},_t={class:"form-group"},Pt=u("h5",null,"Auto start",-1),Mt={class:"form-check"},Et={class:"form-check-label"},Bt=C("     "),Ht=C(" Auto start "),Wt=u("small",{class:"form-text text-muted"},"      Automatically activate waifu2x task",-1),qt=u("div",{class:"modal-footer"},[u("button",{type:"submit",class:"btn btn-primary"},"Confirm")],-1),Nt={class:"modal-dialog",role:"document"},Yt={class:"modal-content"},Xt={class:"modal-header"},Gt=u("h5",{class:"modal-title"},"Add data",-1),Kt=u("span",null,"×",-1),Jt={class:"modal-body"},Qt={class:"form-group"},Zt=u("label",{for:"data-name"},"Name:",-1),eo=u("small",{class:"form-text text-muted"},[C("Such as "),u("code",null,"filename.png")],-1),to={class:"form-group"},oo=u("label",{for:"data-type"},"Type:",-1),ao=u("small",{class:"form-text text-muted"},[C("Such as "),u("code",null,"text/plain")],-1),lo={class:"form-group"},so=u("label",{for:"content"},"Content:",-1),io={class:"modal-footer"},ro=u("button",{type:"submit",class:"btn btn-primary"},"Save",-1),no={class:"modal-dialog modal-lg",role:"document"},co={class:"modal-content"},po={class:"modal-header"},uo=u("h5",{class:"modal-title"},"Edit file",-1),mo=u("span",null,"×",-1),ho={class:"modal-body"},fo={class:"form-group"},bo=u("label",{for:"name"},"Name:",-1),go={key:0,class:"form-group"},vo=u("label",null,"Image: ",-1),wo={class:"edit-image"},yo={class:"edit-image-tool"},xo={class:"btn-group",role:"group"},ko=u("i",{class:"fa fa-undo","aria-hidden":"true"},null,-1),Fo=u("i",{class:"fa fa-repeat","aria-hidden":"true"},null,-1),Co={class:"btn-group",role:"group"},Ao=u("i",{class:"fa fa-check","aria-hidden":"true"},null,-1),$o=u("i",{class:"fa fa-remove","aria-hidden":"true"},null,-1),So={class:"modal-footer"},Uo=u("button",{type:"submit",class:"btn btn-primary"},"Save",-1),Do=u("div",{class:"pt-5 source-code"},[C(" Source code: "),u("a",{href:"https://github.com/HighCWu/waifu2x-tfjs/blob/example/src/App.vue"},"/example/src/App.vue")],-1);O.render=function(e,t,o,a,l,s){const i=A("file-upload");return $(),c("div",V,[e.$refs.upload&&e.$refs.upload.active?($(),c("button",P,[M,E])):($(),c("button",{key:0,type:"button",class:"btn btn-danger float-right btn-is-option",onClick:t[1]||(t[1]=p((t=>e.isOption=!e.isOption),["prevent"]))},[R,_])),u("button",{type:"button",class:"btn btn-primary float-right btn-is-option",onClick:t[2]||(t[2]=p((t=>e.open("https://github.com/HighCWu/waifu2x-tfjs")),["prevent"]))},[B,H]),W,m(u("div",q,[N],512),[[h,e.$refs.upload&&e.$refs.upload.dropActive]]),m(u("div",Y,[X,u("div",G,[u("table",K,[J,u("tbody",null,[e.files.length?f("",!0):($(),c("tr",Q,[u("td",Z,[u("div",ee,[te,u("label",{for:e.name,class:"btn btn-lg btn-primary"},"Select Files",8,["for"])])])])),($(!0),c(b,null,g(e.files,((t,o)=>($(),c("tr",{key:t.id},[u("td",null,v(o),1),u("td",null,[t.thumb?($(),c("img",{key:0,class:"preview-img-item td-image-thumb",src:t.thumb,onClick:o=>e.open(t.thumb)},null,8,["src","onClick"])):($(),c("span",oe,"No Image"))]),u("td",null,[u("div",ae,v(t.name),1),t.active||"0.00"!==t.progress?($(),c("div",le,[u("div",{class:{"progress-bar":!0,"progress-bar-striped":!0,"bg-danger":t.error,"progress-bar-animated":t.active},role:"progressbar",style:{width:t.progress+"%"}},v(t.progress)+"%",7)])):f("",!0)]),u("td",null,v(t.width||0),1),u("td",null,v(t.height||0),1),t.error?($(),c("td",se,v(t.error),1)):t.success?($(),c("td",ie,"success")):t.active?($(),c("td",re,"active")):($(),c("td",de)),u("td",null,[u("div",ne,[ce,u("div",pe,[u("a",{class:{"dropdown-item":!0,disabled:t.active||t.success||"compressing"===t.error||"image parsing"===t.error},href:"#",onClick:p((o=>!t.active&&!t.success&&"compressing"!==t.error&&e.onEditFileShow(t)),["prevent"])},"Edit",10,["onClick"]),u("a",{class:{"dropdown-item":!0,disabled:!t.active},href:"#",onClick:p((o=>!!t.active&&e.$refs.upload.update(t,{error:"cancel"})),["prevent"]),hidden:""},"Cancel",10,["onClick"]),t.active?($(),c("a",{key:0,class:"dropdown-item",href:"#",onClick:p((o=>e.$refs.upload.update(t,{active:!1})),["prevent"]),hidden:""},"Abort",8,["onClick"])):t.error&&"compressing"!==t.error&&"image parsing"!==t.error&&e.$refs.upload.features.html5?($(),c("a",{key:1,class:"dropdown-item",href:"#",onClick:p((o=>e.$refs.upload.update(t,{active:!0,error:"",progress:"0.00"})),["prevent"])},"Retry waifu2x",8,["onClick"])):($(),c("a",{key:2,class:{"dropdown-item":!0,disabled:t.success||"compressing"===t.error||"image parsing"===t.error},href:"#",onClick:p((o=>!t.success&&"compressing"!==t.error&&"image parsing"!==t.error&&e.$refs.upload.update(t,{active:!0})),["prevent"])},"Waifu2X it !",10,["onClick"])),t.active?f("",!0):($(),c("div",ue)),t.active?f("",!0):($(),c("a",{key:4,class:"dropdown-item",href:"#",onClick:p((a=>e.remove(t,o)),["prevent"])},"Remove",8,["onClick"]))])])]),u("td",null,[t.resultThumb?($(),c("img",{key:0,class:"preview-img-item td-image-thumb",src:t.resultThumb,onClick:o=>e.open(t.resultThumb)},null,8,["src","onClick"])):($(),c("span",me,"Waiting for process..."))])])))),128))])])]),u("div",he,[u("div",fe," Drop: "+v(!!e.$refs.upload&&e.$refs.upload.drop)+", Active: "+v(!!e.$refs.upload&&e.$refs.upload.active)+", Uploaded: "+v(!e.$refs.upload||e.$refs.upload.uploaded)+", Drop active: "+v(!!e.$refs.upload&&e.$refs.upload.dropActive),1),u("div",be,[u(i,{class:"btn btn-primary dropdown-toggle","post-action":e.postAction,"put-action":e.putAction,extensions:e.extensions,accept:e.accept,multiple:e.multiple,directory:e.directory,"create-directory":e.createDirectory,size:e.size||0,thread:e.thread<1?1:e.thread>5?5:e.thread,headers:e.headers,data:e.data,drop:e.drop,"drop-directory":e.dropDirectory,"add-index":e.addIndex,customAction:e.inputProgress,modelValue:e.files,"onUpdate:modelValue":t[3]||(t[3]=t=>e.files=t),onInputFilter:e.inputFilter,onInputFile:e.inputFile,ref:"upload"},{default:w((()=>[ge,ve])),_:1},8,["post-action","put-action","extensions","accept","multiple","directory","create-directory","size","thread","headers","data","drop","drop-directory","add-index","customAction","modelValue","onInputFilter","onInputFile"]),u("div",we,[u("label",{class:"dropdown-item",for:e.name},"Add files",8,["for"]),u("a",{class:"dropdown-item",href:"#",onClick:t[4]||(t[4]=(...t)=>e.onAddFolder&&e.onAddFolder(...t))},"Add folder"),u("a",{class:"dropdown-item",href:"#",onClick:t[5]||(t[5]=p((t=>e.addData.show=!0),["prevent"]))},"Add data")])]),e.$refs.upload&&e.$refs.upload.active?($(),c("button",ke,[Fe,Ce])):($(),c("button",{key:0,type:"button",class:"btn btn-success",onClick:t[6]||(t[6]=p((t=>e.$refs.upload.active=!0),["prevent"]))},[ye,xe]))])],512),[[h,!e.isOption]]),u("div",{class:{"modal-backdrop":!0,fade:!0,show:e.isOption}},null,2),u("div",{class:{modal:!0,fade:!0,show:e.isOption},id:"modal-edit-file",tabindex:"-1",role:"dialog"},[u("div",Ae,[u("div",$e,[u("div",Se,[Ue,u("button",{type:"button",class:"close",onClick:t[7]||(t[7]=p((t=>e.isOption=!1),["prevent"])),hidden:""},[De])]),u("form",{onSubmit:t[26]||(t[26]=p((t=>e.isOption=!1),["prevent"]))},[u("div",Ie,[u("div",Te,[je,m(u("input",{type:"text",id:"accept",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=t=>e.accept=t)},null,512),[[y,e.accept]]),ze]),u("div",Le,[Oe,m(u("input",{type:"text",id:"extensions",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=t=>e.extensions=t)},null,512),[[y,e.extensions]]),Ve]),u("div",Re,[_e,u("div",Pe,[u("label",Me,[m(u("input",{class:"form-check-input",type:"radio",name:"put-action",id:"put-action",value:"","onUpdate:modelValue":t[10]||(t[10]=t=>e.putAction=t)},null,512),[[x,e.putAction]]),Ee])]),u("div",Be,[u("label",He,[m(u("input",{class:"form-check-input",type:"radio",name:"put-action",id:"put-action",value:"/upload/put","onUpdate:modelValue":t[11]||(t[11]=t=>e.putAction=t)},null,512),[[x,e.putAction]]),We])]),qe]),u("div",Ne,[Ye,m(u("input",{type:"number",max:"5",min:"1",id:"thread",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=t=>e.thread=t)},null,512),[[y,e.thread,void 0,{number:!0}]]),Xe]),u("div",Ge,[Ke,m(u("input",{type:"number",min:"0",id:"size",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=t=>e.size=t)},null,512),[[y,e.size,void 0,{number:!0}]])]),u("div",Je,[Qe,m(u("input",{type:"number",min:"0",id:"minSize",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=t=>e.minSize=t)},null,512),[[y,e.minSize,void 0,{number:!0}]])]),u("div",Ze,[et,m(u("input",{type:"number",min:"0",id:"autoCompress",class:"form-control","onUpdate:modelValue":t[15]||(t[15]=t=>e.autoCompress=t)},null,512),[[y,e.autoCompress,void 0,{number:!0}]]),e.autoCompress>0?($(),c("small",tt,"More than "+v(e.$formatSize(e.autoCompress))+" files are automatically compressed",1)):($(),c("small",ot,"Set up automatic compression"))]),u("div",at,[u("div",lt,[u("label",st,[m(u("input",{type:"checkbox",id:"add-index",class:"form-check-input","onUpdate:modelValue":t[16]||(t[16]=t=>e.addIndex=t)},null,512),[[k,e.addIndex]]),it])]),rt]),u("div",dt,[u("div",nt,[u("label",ct,[m(u("input",{type:"checkbox",id:"drop",class:"form-check-input","onUpdate:modelValue":t[17]||(t[17]=t=>e.drop=t)},null,512),[[k,e.drop]]),pt])]),ut]),u("div",mt,[u("div",ht,[u("label",ft,[m(u("input",{type:"checkbox",id:"drop-directory",class:"form-check-input","onUpdate:modelValue":t[18]||(t[18]=t=>e.dropDirectory=t)},null,512),[[k,e.dropDirectory]]),bt])]),gt]),u("div",vt,[u("div",wt,[u("label",yt,[m(u("input",{type:"checkbox",id:"create-directory",class:"form-check-input","onUpdate:modelValue":t[19]||(t[19]=t=>e.createDirectory=t)},null,512),[[k,e.createDirectory]]),xt])]),kt]),u("div",Ft,[Ct,u("div",At,[u("label",$t,[m(u("input",{type:"radio","onUpdate:modelValue":t[20]||(t[20]=t=>e.imageType=t),value:"art"},null,512),[[x,e.imageType]]),St]),u("label",Ut,[m(u("input",{type:"radio","onUpdate:modelValue":t[21]||(t[21]=t=>e.imageType=t),value:"art_y"},null,512),[[x,e.imageType]]),Dt]),u("label",It,[m(u("input",{type:"radio","onUpdate:modelValue":t[22]||(t[22]=t=>e.imageType=t),value:"photo"},null,512),[[x,e.imageType]]),Tt])])]),u("div",jt,[zt,u("div",Lt,[($(!0),c(b,null,g(e.modelUrls[e.imageType].noise,((o,a)=>($(),c("label",{class:"form-check-label",key:a},[m(u("input",{type:"radio","onUpdate:modelValue":t[23]||(t[23]=t=>e.denoisingLevel=t),value:a},null,8,["value"]),[[x,e.denoisingLevel]]),C(" "+v(a),1)])))),128))])]),u("div",Ot,[Vt,u("div",Rt,[($(!0),c(b,null,g(e.modelUrls[e.imageType].scale,((o,a)=>($(),c("label",{class:"form-check-label",key:a},[m(u("input",{type:"radio","onUpdate:modelValue":t[24]||(t[24]=t=>e.scaleRatio=t),value:a},null,8,["value"]),[[x,e.scaleRatio]]),C(" "+v(a),1)])))),128))])]),u("div",_t,[Pt,u("div",Mt,[u("label",Et,[Bt,m(u("input",{type:"checkbox",id:"upload-auto",class:"form-check-input","onUpdate:modelValue":t[25]||(t[25]=t=>e.uploadAuto=t)},null,512),[[k,e.uploadAuto]]),Ht])]),Wt])]),qt],32)])])],2),u("div",{class:{"modal-backdrop":!0,fade:!0,show:e.addData.show}},null,2),u("div",{class:{modal:!0,fade:!0,show:e.addData.show},id:"modal-add-data",tabindex:"-1",role:"dialog"},[u("div",Nt,[u("div",Yt,[u("div",Xt,[Gt,u("button",{type:"button",class:"close",onClick:t[27]||(t[27]=p((t=>e.addData.show=!1),["prevent"]))},[Kt])]),u("form",{onSubmit:t[32]||(t[32]=p(((...t)=>e.onAddData&&e.onAddData(...t)),["prevent"]))},[u("div",Jt,[u("div",Qt,[Zt,m(u("input",{type:"text",class:"form-control",required:"",id:"data-name",placeholder:"Please enter a file name","onUpdate:modelValue":t[28]||(t[28]=t=>e.addData.name=t)},null,512),[[y,e.addData.name]]),eo]),u("div",to,[oo,m(u("input",{type:"text",class:"form-control",required:"",id:"data-type",placeholder:"Please enter the MIME type","onUpdate:modelValue":t[29]||(t[29]=t=>e.addData.type=t)},null,512),[[y,e.addData.type]]),ao]),u("div",lo,[so,m(u("textarea",{class:"form-control",required:"",id:"content",rows:"3",placeholder:"Please enter the file contents","onUpdate:modelValue":t[30]||(t[30]=t=>e.addData.content=t)},null,512),[[y,e.addData.content]])])]),u("div",io,[u("button",{type:"button",class:"btn btn-secondary",onClick:t[31]||(t[31]=p((t=>e.addData.show=!1),["prevent"]))},"Close"),ro])],32)])])],2),u("div",{class:{"modal-backdrop":!0,fade:!0,show:e.editFile.show}},null,2),u("div",{class:{modal:!0,fade:!0,show:e.editFile.show},id:"modal-edit-file",tabindex:"-1",role:"dialog"},[u("div",no,[u("div",co,[u("div",po,[uo,u("button",{type:"button",class:"close",onClick:t[33]||(t[33]=p((t=>e.editFile.show=!1),["prevent"]))},[mo])]),u("form",{onSubmit:t[40]||(t[40]=p(((...t)=>e.onEditorFile&&e.onEditorFile(...t)),["prevent"]))},[u("div",ho,[u("div",fo,[bo,m(u("input",{type:"text",class:"form-control",required:"",id:"name",placeholder:"Please enter a file name","onUpdate:modelValue":t[34]||(t[34]=t=>e.editFile.name=t)},null,512),[[y,e.editFile.name]])]),e.editFile.show&&e.editFile.blob&&e.editFile.type&&"image/"===e.editFile.type.substr(0,6)?($(),c("div",go,[vo,u("div",wo,[u("img",{src:e.editFile.blob,ref:"editImage"},null,8,["src"])]),u("div",yo,[u("div",xo,[u("button",{type:"button",class:"btn btn-primary",onClick:t[35]||(t[35]=t=>e.editFile.cropper.rotate(-90)),title:"cropper.rotate(-90)"},[ko]),u("button",{type:"button",class:"btn btn-primary",onClick:t[36]||(t[36]=t=>e.editFile.cropper.rotate(90)),title:"cropper.rotate(90)"},[Fo])]),u("div",Co,[u("button",{type:"button",class:"btn btn-primary",onClick:t[37]||(t[37]=t=>e.editFile.cropper.crop()),title:"cropper.crop()"},[Ao]),u("button",{type:"button",class:"btn btn-primary",onClick:t[38]||(t[38]=t=>e.editFile.cropper.clear()),title:"cropper.clear()"},[$o])])])])):f("",!0)]),u("div",So,[u("button",{type:"button",class:"btn btn-secondary",onClick:t[39]||(t[39]=p((t=>e.editFile.show=!1),["prevent"]))},"Close"),Uo])],32)])])],2),Do])};const Io=S({render:()=>U(O)});Io.config.globalProperties.$formatSize=function(e){return e>1099511627776?(e/1024/1024/1024/1024).toFixed(2)+" TB":e>1073741824?(e/1024/1024/1024).toFixed(2)+" GB":e>1048576?(e/1024/1024).toFixed(2)+" MB":e>1024?(e/1024).toFixed(2)+" KB":e.toString()+" B"},Io.mount("#app");
